<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script src="http://static.runoob.com/assets/vue/1.0.11/vue.min.js"></script>
    <script src="https://cdn.bootcss.com/vue-resource/1.3.1/vue-resource.min.js"></script>
    <script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"></script>
    <title>Get/Post/Jsonp</title>
</head>
<body>

    <input type="button" value="按钮" @click="get('zhangsan',20)"/>
    <span v-text="name"></span>
    <span v-text="age"></span>
    <input type="button" value="json" onclick="getjson()"/>
    <table>
        <tr v-for=""></tr>
    </table>
    <!-- JavaScript 代码需要放在尾部（指定的HTML元素之后） -->
    <!-- this代表new的这个对象，data里面的值必须初始化-->
    <!-- jsonp用于实现跨域-->
    <!--后端python和前端通过ajax数据交互,ajax通过data 实现与Vue数据交互,Vue和Dom数据绑定-->
    <script type="text/javascript">
        var data = {
            name:'test',
            age:50
        };
        var ajxVue = new Vue({
            el:'body',
            data: data,
            methods:{
                get:function (name,age) {
                    //,{emulateJSON:true}
                    //this.$http.post('/json',{name:name,age:age},{emulateJSON:true}).then(function (res) {
                    this.$http.get('/json',{name:name,age:age}).then(function (res) {
                       this.msg = res.data + res.status
                     }).then(function (res) {
                     alert(res.status+res.data);
                     })
                },

            }
        });

        function getjson(){
                $.ajax({
                type:'GET',
                url:'/json',
                success:function (msg) {
                    data.name = msg.person.name;
                    data.age = msg.person.age;
                    }
                })
            }
    </script>
</body>
</html>
